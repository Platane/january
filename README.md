[![Travis](https://img.shields.io/travis/Platane/january.svg?style=flat-square)](https://travis-ci.org/Platane/january)

Static blog generator.

# build

## manual

The build process is composed of several steps:

- __yarn run build:contentData__ parse the files in `src/content/posts`, write the parsed posts as `dist/posts.jon`
- __yarn run build:asset__ run webpack to build the static assets.
- __yarn run build:images__ parse the `dist/posts.jon` file, generating several versions of images for several dimensions. rewrites the `dist/post.json` to include path to generated images.
__/!\ this step require to have graphicMagic in path__
- __yarn run build:pages__ pre-render the html pages, reading the `post.json` file.
- __yarn run build:manifest__ build the manifest file, reading the generated icons.
- __yarn run build:serviceWorker__ build the serviceWorker file, reading the assets generated by webpack.

## path

As the router later the route, requiring relative path will fail.

In order to re-write path absolutely, the `ROOT_URL` can be defined and will be append at the start of the paths.

For example as this project is hosted at `platane.github.io/january`, the style url must be `//platane.github.io/january/asset/style.css`. The base path to set is `//platane.github.io/january`.

## CI

The `.travis` file allows to build at every push and deploy to gh-pages.

`GITHUB_TOKEN` env var must be set. As well as `BASE_PATH` if applyable.


## tl;dr

`yarn run build` to build the static files.

__/!\ graphicMagic must be installed__



